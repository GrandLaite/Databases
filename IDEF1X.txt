CREATE TABLE Country (
    country_id INT PRIMARY KEY,
    country_name VARCHAR(255) NOT NULL
);

CREATE TABLE City (
    city_id INT PRIMARY KEY,
    country_id INT NOT NULL,
    city_name VARCHAR(255) NOT NULL,
    FOREIGN KEY (country_id) REFERENCES Country(country_id)
);

CREATE TABLE Street (
    street_id INT PRIMARY KEY,
    city_id INT NOT NULL,
    street_name VARCHAR(255) NOT NULL,
    FOREIGN KEY (city_id) REFERENCES City(city_id)
);

CREATE TABLE Supplier_Address (
    address_id INT PRIMARY KEY,
    street_id INT NOT NULL,
    building VARCHAR(10) NOT NULL,
    FOREIGN KEY (street_id) REFERENCES Street(street_id)
);

CREATE TABLE Customer_Address (
    address_id INT PRIMARY KEY,
    street_id INT NOT NULL,
    building VARCHAR(10) NOT NULL,
    FOREIGN KEY (street_id) REFERENCES Street(street_id)
);

CREATE TABLE Supplier (
    supplier_id INT PRIMARY KEY,
    last_name VARCHAR(255) NOT NULL,
    first_name VARCHAR(255) NOT NULL,
    middle_name VARCHAR(255),
    phone VARCHAR(20) NOT NULL,
    address_id INT NOT NULL,
    FOREIGN KEY (address_id) REFERENCES Supplier_Address(address_id)
);

CREATE TABLE Customer (
    customer_id INT PRIMARY KEY,
    last_name VARCHAR(255) NOT NULL,
    first_name VARCHAR(255) NOT NULL,
    middle_name VARCHAR(255),
    birth_date DATE NOT NULL,
    address_id INT NOT NULL,
    FOREIGN KEY (address_id) REFERENCES Customer_Address(address_id)
);

CREATE TABLE Product (
    product_id INT PRIMARY KEY,
    product_name VARCHAR(255) NOT NULL
);

CREATE TABLE Supply (
    supply_id INT PRIMARY KEY,
    supplier_id INT NOT NULL,
    supply_date DATE NOT NULL,
    product_id INT NOT NULL,
    quantity INT NOT NULL,
    FOREIGN KEY (supplier_id) REFERENCES Supplier(supplier_id),
    FOREIGN KEY (product_id) REFERENCES Product(product_id)
);

CREATE TABLE Pricing (
    pricing_id INT PRIMARY KEY,
    product_id INT NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    price_date DATE NOT NULL,
    FOREIGN KEY (product_id) REFERENCES Product(product_id)
);

CREATE TABLE Customer_Order (
    order_id INT PRIMARY KEY,
    order_date DATE NOT NULL,
    customer_id INT NOT NULL,
    product_id INT NOT NULL,
    quantity INT NOT NULL,
    FOREIGN KEY (customer_id) REFERENCES Customer(customer_id),
    FOREIGN KEY (product_id) REFERENCES Product(product_id)
);


Код для https://dbdiagram.io


Table Country {
    country_id INT [pk]
    country_name VARCHAR(255) [not null]
}

Table City {
    city_id INT [pk]
    country_id INT [not null]
    city_name VARCHAR(255) [not null]
}

Table Street {
    street_id INT [pk]
    city_id INT [not null]
    street_name VARCHAR(255) [not null]
}

Table Supplier_Address {
    address_id INT [pk]
    street_id INT [not null]
    building VARCHAR(10) [not null]
}

Table Customer_Address {
    address_id INT [pk]
    street_id INT [not null]
    building VARCHAR(10) [not null]
}

Table Supplier {
    supplier_id INT [pk]
    last_name VARCHAR(255) [not null]
    first_name VARCHAR(255) [not null]
    middle_name VARCHAR(255)
    phone VARCHAR(20) [not null]
    address_id INT [not null]
}

Table Customer {
    customer_id INT [pk]
    last_name VARCHAR(255) [not null]
    first_name VARCHAR(255) [not null]
    middle_name VARCHAR(255)
    birth_date DATE [not null]
    address_id INT [not null]
}

Table Product {
    product_id INT [pk]
    product_name VARCHAR(255) [not null]
}

Table Supply {
    supply_id INT [pk]
    supplier_id INT [not null]
    supply_date DATE [not null]
    product_id INT [not null]
    quantity INT [not null]
}

Table Pricing {
    pricing_id INT [pk]
    product_id INT [not null]
    price DECIMAL(10, 2) [not null]
    price_date DATE [not null]
}

Table Customer_Order {
    order_id INT [pk]
    order_date DATE [not null]
    customer_id INT [not null]
    product_id INT [not null]
    quantity INT [not null]
}

Ref: City.country_id > Country.country_id
Ref: Street.city_id > City.city_id
Ref: Supplier_Address.street_id > Street.street_id
Ref: Customer_Address.street_id > Street.street_id
Ref: Supplier.address_id > Supplier_Address.address_id
Ref: Customer.address_id > Customer_Address.address_id
Ref: Supply.supplier_id > Supplier.supplier_id
Ref: Supply.product_id > Product.product_id
Ref: Pricing.product_id > Product.product_id
Ref: Customer_Order.customer_id > Customer.customer_id
Ref: Customer_Order.product_id > Product.product_id
